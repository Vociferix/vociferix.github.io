<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A crate for working with unsigned integers of various bit widths."><meta name="keywords" content="rust, rustlang, rust-lang, uint"><title>sniffle::uint - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../sniffle/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../sniffle/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module uint</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">sniffle</a>::<wbr><a class="mod" href="#">uint</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sniffle/lib.rs.html#76">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A crate for working with unsigned integers of various bit widths.</p>
<p>This crate works as an alternative to existing bitfield crates. The
uint types provided by this crate can be used as fields in a struct
to emulate bit fields, but the resulting struct is not packed like
with actual bit fields. However, the fields are accessible like a
normal struct field, where most bitfield crates provide some other
way of getting and setting the individual bitfields, and require
macros that generate the actual struct. The <code>pack</code> and <code>unpack</code>
macros provide the mechanism for packing and unpacking uints like
bitfields.</p>
<p>This crate is a utility for the <code>sniffle</code> crate, but can be used
outside of <code>sniffle</code>. In <code>sniffle</code> this crate is used for parsing
and writing packet headers that have fields with unusual bit widths
(i.e. not 8, 16, 32, or 64 bits).</p>
<p>The uints provided by this crate are represented using a builtin
unsigned integer (<code>u8</code>, <code>u16</code>, <code>u32</code>, or <code>u64</code>) capable of holding
the required number of bits. However, they provide an interface
that guarantees a valid n-bit value at all times.</p>
<h3 id="packing-and-unpacking"><a href="#packing-and-unpacking">Packing and Unpacking</a></h3>
<p>Packing and unpacking are the bitwise concatenation and spliting of
uints, respectively. While these are simple bitwise operations, the
<code>pack</code> and <code>unpack</code> macros provide type safety, such that the
concatenation of two uints results in a uint whose bit width equals
the sum of the bit widths of the unpacked types. For example,
packing a U17 and a U23 together results in a U40. This also means
that the result of a pack has no padding bits, which could be
confusing when trying to determine if padding is in the most or
least significant bits of the packed value.</p>
<p>Out-of-the-box, packing can be performed with all tuples of uints
where the packed type would be another available uint type. Tuples
are packed such that the first (index 0) uint in the tuple is
packed into the most significant bits, and the last uint is packed
into the least significant bits. This “big endian” order was chosen
to logically match with the idea of concatenating the values of the
tuple in order.</p>
<h3 id="u128-feature"><a href="#u128-feature">u128 Feature</a></h3>
<p>The optional u128 feature enables using <code>u128</code> in order to provide
uints <code>U65</code> to <code>U127</code>. However, the compilation time increases
exponentially with more uint types. 64 bits is generally enough for
most use cases, so this feature is not enabled by default, but when
enabling this feature, be aware that compile times will be very
long. Times will vary, but expect a compile time on the order of
15 minutes with this feature enabled.</p>
<h3 id="example"><a href="#example">Example</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>sniffle_uint::{<span class="self">self </span><span class="kw">as </span>uint, BitPack, pack, unpack};

<span class="comment">// NOTE: The size of BitFields is greater than 1 byte, even if the
//       the bits add up to 8. Each field in this struct is
//       represented with a u8, since each field is less than 8
//       bits and u8 is the smallest builtin uint.
</span><span class="kw">struct </span>BitFields {
    <span class="kw">pub </span>a: uint::U3,
    <span class="kw">pub </span>b: uint::U4,
    <span class="kw">pub </span>c: uint::U1,
}

<span class="comment">// NOTE: Perhaps a derive macro will be provided for this pattern
//       in the future.
</span><span class="kw">impl </span>BitPack <span class="kw">for </span>BitFields {
    <span class="kw">type </span>Packed = u8;

    <span class="kw">fn </span>pack(<span class="self">self</span>) -&gt; <span class="self">Self</span>::Packed {
        <span class="macro">uint::pack!</span>(<span class="self">self</span>.a, <span class="self">self</span>.b, <span class="self">self</span>.c)
    }

    <span class="kw">fn </span>unpack(packed: <span class="self">Self</span>::Packed) -&gt; <span class="self">Self </span>{
        <span class="kw">let </span>(a, b, c) = <span class="macro">uint::unpack!</span>(packed);
        <span class="self">Self </span>{ a, b, c }
    }
}

<span class="kw">impl </span>From&lt;u8&gt; <span class="kw">for </span>BitFields {
    <span class="kw">fn </span>from(value: u8) -&gt; <span class="self">Self </span>{
        <span class="self">Self</span>::unpack(value)
    }
}

<span class="kw">impl </span>From&lt;BitFields&gt; <span class="kw">for </span>u8 {
    <span class="kw">fn </span>from(fields: BitFields) -&gt; <span class="self">Self </span>{
        fields.pack()
    }
}</code></pre></div>
</div></details><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.pack.html" title="sniffle::uint::pack macro">pack</a></div><div class="item-right docblock-short">Utility to simplify packing uints.</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.unpack.html" title="sniffle::uint::unpack macro">unpack</a></div><div class="item-right docblock-short">Utility to simplify unpacking uints.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U1.html" title="sniffle::uint::U1 struct">U1</a></div><div class="item-right docblock-short">A 1-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U2.html" title="sniffle::uint::U2 struct">U2</a></div><div class="item-right docblock-short">A 2-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U3.html" title="sniffle::uint::U3 struct">U3</a></div><div class="item-right docblock-short">A 3-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U4.html" title="sniffle::uint::U4 struct">U4</a></div><div class="item-right docblock-short">A 4-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U5.html" title="sniffle::uint::U5 struct">U5</a></div><div class="item-right docblock-short">A 5-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U6.html" title="sniffle::uint::U6 struct">U6</a></div><div class="item-right docblock-short">A 6-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U7.html" title="sniffle::uint::U7 struct">U7</a></div><div class="item-right docblock-short">A 7-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U9.html" title="sniffle::uint::U9 struct">U9</a></div><div class="item-right docblock-short">A 9-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U10.html" title="sniffle::uint::U10 struct">U10</a></div><div class="item-right docblock-short">A 10-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U11.html" title="sniffle::uint::U11 struct">U11</a></div><div class="item-right docblock-short">A 11-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U12.html" title="sniffle::uint::U12 struct">U12</a></div><div class="item-right docblock-short">A 12-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U13.html" title="sniffle::uint::U13 struct">U13</a></div><div class="item-right docblock-short">A 13-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U14.html" title="sniffle::uint::U14 struct">U14</a></div><div class="item-right docblock-short">A 14-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U15.html" title="sniffle::uint::U15 struct">U15</a></div><div class="item-right docblock-short">A 15-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U17.html" title="sniffle::uint::U17 struct">U17</a></div><div class="item-right docblock-short">A 17-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U18.html" title="sniffle::uint::U18 struct">U18</a></div><div class="item-right docblock-short">A 18-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U19.html" title="sniffle::uint::U19 struct">U19</a></div><div class="item-right docblock-short">A 19-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U20.html" title="sniffle::uint::U20 struct">U20</a></div><div class="item-right docblock-short">A 20-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U21.html" title="sniffle::uint::U21 struct">U21</a></div><div class="item-right docblock-short">A 21-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U22.html" title="sniffle::uint::U22 struct">U22</a></div><div class="item-right docblock-short">A 22-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U23.html" title="sniffle::uint::U23 struct">U23</a></div><div class="item-right docblock-short">A 23-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U24.html" title="sniffle::uint::U24 struct">U24</a></div><div class="item-right docblock-short">A 24-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U25.html" title="sniffle::uint::U25 struct">U25</a></div><div class="item-right docblock-short">A 25-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U26.html" title="sniffle::uint::U26 struct">U26</a></div><div class="item-right docblock-short">A 26-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U27.html" title="sniffle::uint::U27 struct">U27</a></div><div class="item-right docblock-short">A 27-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U28.html" title="sniffle::uint::U28 struct">U28</a></div><div class="item-right docblock-short">A 28-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U29.html" title="sniffle::uint::U29 struct">U29</a></div><div class="item-right docblock-short">A 29-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U30.html" title="sniffle::uint::U30 struct">U30</a></div><div class="item-right docblock-short">A 30-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U31.html" title="sniffle::uint::U31 struct">U31</a></div><div class="item-right docblock-short">A 31-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U33.html" title="sniffle::uint::U33 struct">U33</a></div><div class="item-right docblock-short">A 33-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U34.html" title="sniffle::uint::U34 struct">U34</a></div><div class="item-right docblock-short">A 34-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U35.html" title="sniffle::uint::U35 struct">U35</a></div><div class="item-right docblock-short">A 35-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U36.html" title="sniffle::uint::U36 struct">U36</a></div><div class="item-right docblock-short">A 36-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U37.html" title="sniffle::uint::U37 struct">U37</a></div><div class="item-right docblock-short">A 37-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U38.html" title="sniffle::uint::U38 struct">U38</a></div><div class="item-right docblock-short">A 38-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U39.html" title="sniffle::uint::U39 struct">U39</a></div><div class="item-right docblock-short">A 39-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U40.html" title="sniffle::uint::U40 struct">U40</a></div><div class="item-right docblock-short">A 40-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U41.html" title="sniffle::uint::U41 struct">U41</a></div><div class="item-right docblock-short">A 41-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U42.html" title="sniffle::uint::U42 struct">U42</a></div><div class="item-right docblock-short">A 42-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U43.html" title="sniffle::uint::U43 struct">U43</a></div><div class="item-right docblock-short">A 43-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U44.html" title="sniffle::uint::U44 struct">U44</a></div><div class="item-right docblock-short">A 44-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U45.html" title="sniffle::uint::U45 struct">U45</a></div><div class="item-right docblock-short">A 45-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U46.html" title="sniffle::uint::U46 struct">U46</a></div><div class="item-right docblock-short">A 46-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U47.html" title="sniffle::uint::U47 struct">U47</a></div><div class="item-right docblock-short">A 47-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U48.html" title="sniffle::uint::U48 struct">U48</a></div><div class="item-right docblock-short">A 48-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U49.html" title="sniffle::uint::U49 struct">U49</a></div><div class="item-right docblock-short">A 49-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U50.html" title="sniffle::uint::U50 struct">U50</a></div><div class="item-right docblock-short">A 50-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U51.html" title="sniffle::uint::U51 struct">U51</a></div><div class="item-right docblock-short">A 51-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U52.html" title="sniffle::uint::U52 struct">U52</a></div><div class="item-right docblock-short">A 52-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U53.html" title="sniffle::uint::U53 struct">U53</a></div><div class="item-right docblock-short">A 53-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U54.html" title="sniffle::uint::U54 struct">U54</a></div><div class="item-right docblock-short">A 54-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U55.html" title="sniffle::uint::U55 struct">U55</a></div><div class="item-right docblock-short">A 55-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U56.html" title="sniffle::uint::U56 struct">U56</a></div><div class="item-right docblock-short">A 56-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U57.html" title="sniffle::uint::U57 struct">U57</a></div><div class="item-right docblock-short">A 57-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U58.html" title="sniffle::uint::U58 struct">U58</a></div><div class="item-right docblock-short">A 58-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U59.html" title="sniffle::uint::U59 struct">U59</a></div><div class="item-right docblock-short">A 59-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U60.html" title="sniffle::uint::U60 struct">U60</a></div><div class="item-right docblock-short">A 60-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U61.html" title="sniffle::uint::U61 struct">U61</a></div><div class="item-right docblock-short">A 61-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U62.html" title="sniffle::uint::U62 struct">U62</a></div><div class="item-right docblock-short">A 62-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.U63.html" title="sniffle::uint::U63 struct">U63</a></div><div class="item-right docblock-short">A 63-bit unsigned integer.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.BitPack.html" title="sniffle::uint::BitPack trait">BitPack</a></div><div class="item-right docblock-short">A trait that defines how to pack and unpack uints.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FromMasked.html" title="sniffle::uint::FromMasked trait">FromMasked</a></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoMasked.html" title="sniffle::uint::IntoMasked trait">IntoMasked</a></div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.U8.html" title="sniffle::uint::U8 type">U8</a></div><div class="item-right docblock-short">A 8-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.U16.html" title="sniffle::uint::U16 type">U16</a></div><div class="item-right docblock-short">A 16-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.U32.html" title="sniffle::uint::U32 type">U32</a></div><div class="item-right docblock-short">A 32-bit unsigned integer.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.U64.html" title="sniffle::uint::U64 type">U64</a></div><div class="item-right docblock-short">A 64-bit unsigned integer.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sniffle" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>